<div class="container" ng-controller="Admin_Ctrl">
<h1>Mesh</h1>
<input type="button" class="btn btn-{{(status.mode == 'Gateway') && 'success' || 'primary'}} meshmode" id="gateway" value="Gateway" />
<input type="button" class="btn btn-{{(status.mode == 'Standalone') && 'success' || 'primary'}} meshmode" id="standalone" value="Standalone" />
<input type="button" class="btn btn-{{(status.mode == 'Client') && 'success' || 'primary'}} meshmode" id="client" value="Client" />

<div ng-repeat="node in nodekeys">
	<div class="row">
		<div class="col-sm-3">
			<h2>{{node.replace(".json", "")}}</h2>
			{{nodes[node].mode}}
			<!-- TODO Move buttons down here-->
		</div>
		<div class="col-sm-3">
			<h2>Load</h2>
			<!-- TODO add this to nodeadm -->
			<span class="load"><gauge percent="pickles" /></span>
		</div>
		<div class="col-sm-3">
			<h2>Memory</h2>
			<!-- TODO Find a good gauge -->
			{{nodes[node].memory.used}}
			{{nodes[node].memory.total}}
		</div>
		<div class="col-sm-3">
			<h2>Flash</h2>
			<!-- TODO Find a good gauge -->
			{{nodes[node].flash.used}}
			{{nodes[node].flash.total}}
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<table class="table table-bordered table-hover">
			<tr>
				<th>MAC</th>
				<th>IP</th>
				<th>Time Authorized</th>
				<th>Signal</th>
				<th>Bitrate</th>
			</tr>
				<tr ng-repeat="client in nodes[node].clients">
					<td>{{client.mac}}</td>
					<td>{{client.ip}}</td>
					<td>{{client.time}}</td>
					<td>{{client.signal}} dB</td>
					<td>{{client.bitrate}} mbps</td>
				</tr>
			</table>
	</div>
</div>

<!-- vim: filetype=html
-->
